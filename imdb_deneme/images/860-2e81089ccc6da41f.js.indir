"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{18136:function(t,n,e){e.d(n,{c:function(){return K}});var i=e(92228),a=e(52322),r=e(30382),o=e.n(r),c=e(2784),l=e(45103),u=e(95128),s=e(31619),d=e(89254),f=e(47842),g=e(70865),m=e(72779),p=e.n(m),v=e(19596),h=e(91842),x={id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},T={id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},_={id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},R={id:"common_ratingPrompt_header",defaultMessage:"Rate this"},b={id:"common_ratingPrompt_rate",defaultMessage:"Rate"},P={id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},y={id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"},I={id:"common_buttons_trailer",defaultMessage:"Trailer"};function C(){var t=(0,i.Z)(["\n    display: flex;\n    width: 100%;\n    align-items: center;\n    padding: "," 0;\n    margin-bottom: -1rem;\n\n    &.justify--space-between {\n        justify-content: space-between;\n    }\n\n    &.justify--space-around {\n        justify-content: space-around;\n    }\n\n    &.justify--left {\n        justify-content: flex-start;\n    }\n\n    &.justify--right {\n        justify-content: flex-end;\n    }\n\n    &.both-card-actions {\n        > .card-action-button {\n            margin-left: -0.25rem;\n            padding-right: 0.5rem;\n            padding-left: 0.5rem;\n        }\n        > .card-action-icon {\n            margin-right: -0.25rem;\n        }\n    }\n\n    > .card-action-button {\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n"]);return C=function(){return t},t}var N;!function(t){t.SPACE_BETWEEN="space-between",t.SPACE_AROUND="space-around",t.RIGHT="right",t.LEFT="left"}(N||(N={}));var S=function(t){var n=t.title.latestTrailerId,e=t.refPrefix,i=t.refSuffix,r=t.iconButtons,o=(0,s.N)(I),c=(0,s.N)(I),u=[];if(n){var d="/video/".concat(n,"/?ref_=").concat(e,"tr_vp").concat(i);u.push({preIcon:"play-arrow",onColor:"textPrimary",href:d,ariaLabel:o,children:(0,a.jsx)("div",{className:"trailers-button-text","data-testid":"trailer-button",children:c})})}var m=N.SPACE_AROUND;if(1===(null===r||void 0===r?void 0:r.length)&&u.length<1&&(m=N.RIGHT),!(null===r||void 0===r?void 0:r.length)&&!u.length)return null;var v=p()(["justify--".concat(m)],(0,f.Z)({},"both-card-actions",(null===r||void 0===r?void 0:r.length)&&u.length));return(0,a.jsxs)(L,{className:v,children:[u.map((function(t,n){return(0,a.jsx)(l.TextButton,(0,g.Z)({className:p()("card-action-button",t.className)},t),n)})),null===r||void 0===r?void 0:r.map((function(t,n){return(0,a.jsx)(l.IconButton,(0,g.Z)({className:p()("card-action-icon",t.className)},t),n)}))]})},L=v.default.div.withConfig({componentId:"sc-3a643f09-0"})(C(),h.spacing.xs),w=e(96670),j=e(13813),U=e(58267);function M(){var t=(0,i.Z)(["\n    max-height: ",";\n    max-width: ",";\n    vertical-align: middle;\n"]);return M=function(){return t},t}var Z=function(t){var n=t.title.id,e=t.alternateButton,i=t.refPrefix,r=t.refSuffix,o=(0,j.y)(),c=o.pageType,u=o.subPageType;if(e){var s=(0,w.Z)((0,g.Z)({},e.props),{width:"full-width"});return(0,a.jsx)(l.SecondaryButton,(0,w.Z)((0,g.Z)({},s),{children:e.fetching?(0,a.jsx)(B,{className:"alternate-button-loader",type:"circle"}):e.text}))}return(0,a.jsx)(U.Z,{titleId:n,watchlistMetricsContext:{pageType:c,subPageType:u,refTag:"".concat(i,"wl_btn").concat(r)}},n)},B=(0,v.default)(l.Loader).withConfig({componentId:"sc-43e87107-0"})(M(),h.spacing.xl,h.spacing.xl),E=e(98788),k=e(45680),O=e(89363),H=e(61436),F=e(92281),A=e(90551),D=e(95460),W=e(26688);function Y(){var t=(0,i.Z)(["\n    min-height: 36px;\n"]);return Y=function(){return t},t}var X=function(t){var n=t.className,e=t.title,i=e.id,r=e.titleText,o=e.ratingsSummary,u=e.canRate,d=t.refPrefix,f=t.refSuffix,g=(0,c.useState)(!1),m=g[0],p=g[1],v=(0,A.n)(),h=(0,l.useRatingsContext)(i),x=h.rating,I=h.updateRating,C=h.deleteRating,N=(0,H.P)(o,"imdb"),S=(0,H.P)(x,"user"),L="".concat(d,"rt").concat(f),w="".concat(d.replace(/_/g,"-")).concat("urate"),U=(0,j.F)((0,j.y)()),M=u?function(){(0,D.ar)(U,w,D.qB.POP_UP),p(!0)}:void 0,Z=(0,F.vY)({titleId:i,refTag:L,currentRating:x}),B=Z.updateTitleRating,Y=Z.deleteTitleRating,X=Z.tempRateUpdateLogRef,z=(0,s.N)(T,{rating:S}),G=(0,s.N)(_,{titleName:r}),q=(0,s.N)(R),K=(0,s.N)(b),V=(0,s.N)(P),J=(0,s.N)(y);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{className:n,formattedImdbRating:N,formattedUserRating:S,onUserRatingClick:M,ariaLabelRated:z,ariaLabelUnrated:G}),M&&(0,a.jsx)(l.RatingPrompt,{isOpen:m,tconst:i,title:r,headerLabel:q,rateLabel:K,ariaLabelPrefix:J,shouldUseNewRatingFlow:!0,secondaryButtonText:V,secondaryButtonType:O.uu.RemoveRating,onPrimaryButtonClicked:function(){var t=(0,E.Z)((function(t,n){return(0,k.__generator)(this,(function(e){switch(e.label){case 0:return t?v?(p(!1),I(t,L,(function(){return B(t,n)})),[3,3]):[3,1]:(p(!1),[2]);case 1:return[4,X(t,n)];case 2:e.sent(),(0,W.O)(t,n,L,U),e.label=3;case 3:return[2]}}))}));return function(n,e){return t.apply(this,arguments)}}(),onSecondaryButtonClicked:function(){var t=(0,E.Z)((function(t,n){return(0,k.__generator)(this,(function(t){return p(!1),C(L,(function(){return Y(n)})),[2]}))}));return function(n,e){return t.apply(this,arguments)}}(),onCloseClicked:function(){p(!1)}})]})},$=(0,v.default)(l.PosterCard.RatingStarGroup).withConfig({componentId:"sc-a885001d-0"})(Y());function z(){var t=(0,i.Z)(["\n        fragment BaseTitleCard on Title {\n            id\n            titleText {\n                text\n            }\n            titleType {\n                id\n                text\n                canHaveEpisodes\n                displayableProperty {\n                    value {\n                        plainText\n                    }\n                }\n            }\n            originalTitleText {\n                text\n            }\n            primaryImage {\n                id\n                width\n                height\n                url\n                caption {\n                    plainText\n                }\n            }\n            releaseYear {\n                year\n                endYear\n            }\n            ratingsSummary {\n                aggregateRating\n                voteCount\n            }\n            runtime {\n                seconds\n            }\n            certificate {\n                rating\n            }\n            canRate {\n                isRatable\n            }\n            titleGenres {\n                genres(limit: 3) {\n                    genre {\n                        text\n                    }\n                }\n            }\n            canHaveEpisodes\n        }\n    "]);return z=function(){return t},t}function G(){var t=(0,i.Z)(["\n        fragment TitleCardTrailer on Title {\n            latestTrailer {\n                id\n            }\n        }\n    "]);return G=function(){return t},t}function q(){var t=(0,i.Z)(["\n        fragment PersonalizedTitleCardUserRating on Title {\n            userRating @include(if: $includeUserRating) {\n                value\n            }\n        }\n    "]);return q=function(){return t},t}var K=function(t){var n=t.data,e=n.id,i=n.titleText,r=n.originalTitleText,o=n.titleType,c=n.primaryImage,f=n.ratingsSummary,g=n.canRate,m=n.latestTrailer,p=t.refMarker,v=void 0===p?{}:p,h=v.prefix,T=void 0===h?"":h,_=v.suffix,R=void 0===_?"":_,b=T?"".concat(T,"_"):"",P=T?"_".concat(R):"",y=(0,d.K)({originalTitleText:r,titleText:i}),I=(0,s.N)(x,{titleName:y}),C="/title/".concat(e,"/?ref_=").concat(b,"tt_t").concat(P),N="string"===typeof t.className?t.className:void 0;return y&&o?(0,a.jsxs)(l.PosterCard,{dynamicWidth:!0,className:N,children:[(0,a.jsx)(u.y,{title:{id:e,titleText:y,titleTypeId:o.id,image:{url:null===c||void 0===c?void 0:c.url,height:null===c||void 0===c?void 0:c.height,width:null===c||void 0===c?void 0:c.width}},onClick:t.onClick,refPrefix:b,refSuffix:P}),(0,a.jsx)(X,{title:{id:e,titleText:y,ratingsSummary:null===f||void 0===f?void 0:f.aggregateRating,canRate:null===g||void 0===g?void 0:g.isRatable},refPrefix:b,refSuffix:P}),(0,a.jsx)(l.PosterCard.Title,{href:C,onClick:t.onClick,ariaLabel:I,children:(0,a.jsx)("span",{"data-testid":"title",children:y})}),(0,a.jsxs)(l.PosterCard.Actions,{children:[(0,a.jsx)(Z,{title:{id:e},alternateButton:t.alternateButton,refPrefix:b,refSuffix:P}),(0,a.jsx)(S,{title:{latestTrailerId:null===m||void 0===m?void 0:m.id},refPrefix:b,refSuffix:P,iconButtons:t.iconButtons})]})]}):null};K.fragments={baseTitleCard:o()(z()),titleCardTrailer:o()(G()),personalizedTitleCardUserRating:o()(q())}},25699:function(t,n,e){e.d(n,{T:function(){return x}});var i=e(98788),a=e(45680),r=e(52322),o=e(2784),c=e(45103),l=e(89363),u=e(31619),s=e(92281),d=e(90551),f=e(13813),g=e(95460),m=e(26688),p=e(77637),v=(0,e(76510).vU)({ratingButtonRatedAriaLabel:{id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},ratingButtonUnratedAriaLabel:{id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},ratingPromptHeaderLabel:{id:"common_ratingPrompt_header",defaultMessage:"Rate this"},ratingPromptRateLabel:{id:"common_ratingPrompt_rate",defaultMessage:"Rate"},ratingPromptRemoveRatingLabel:{id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},ratingPromptErrorLabel:{id:"common_ratingPrompt_error",defaultMessage:"Can't rate title. Try again later."},ratingPromptAriaLabelPrefix:{id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"}}),h="urate",x=function(t){var n=t.title,e=n.id,x=n.titleText,T=n.canRate,_=t.ratingTriggerComponent,R=t.refPrefix,b=t.refSuffix,P=(0,o.useState)(!1),y=P[0],I=P[1],C=(0,d.n)(),N=(0,c.useRatingsContext)(e)||{},S=N.rating,L=N.updateRating,w=N.deleteRating,j=(0,p.z)("rt",{prefix:R,suffix:b}),U="".concat(R.replace(/_/g,"-").substring(0,30-h.length)).concat(h),M=(0,f.F)((0,f.y)()),Z=(0,s.vY)({titleId:e,refTag:j,currentRating:S}),B=Z.updateTitleRating,E=Z.deleteTitleRating,k=Z.tempRateUpdateLogRef,O=(0,u.N)(v.ratingPromptHeaderLabel),H=(0,u.N)(v.ratingPromptRateLabel),F=(0,u.N)(v.ratingPromptRemoveRatingLabel),A=(0,u.N)(v.ratingPromptAriaLabelPrefix);return(0,r.jsxs)(r.Fragment,{children:[_({onUserRatingClick:function(){T&&((0,g.ar)(M,U,g.qB.POP_UP),I(!0))}}),T&&(0,r.jsx)(c.RatingPrompt,{isOpen:y,tconst:e,title:x,headerLabel:O,rateLabel:H,ariaLabelPrefix:A,shouldUseNewRatingFlow:!0,secondaryButtonText:F,secondaryButtonType:l.uu.RemoveRating,onPrimaryButtonClicked:function(){var t=(0,i.Z)((function(t,n){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return t?C?(I(!1),null===L||void 0===L||L(t,j,(function(){return B(t,n)})),[3,3]):[3,1]:(I(!1),[2]);case 1:return[4,k(t,n)];case 2:e.sent(),(0,m.O)(t,n,j,M),e.label=3;case 3:return[2]}}))}));return function(n,e){return t.apply(this,arguments)}}(),onSecondaryButtonClicked:function(){var t=(0,i.Z)((function(t,n){return(0,a.__generator)(this,(function(t){return I(!1),null===w||void 0===w||w(j,(function(){return E(n)})),[2]}))}));return function(n,e){return t.apply(this,arguments)}}(),onCloseClicked:function(t){I(!1)}})]})}},95128:function(t,n,e){e.d(n,{y:function(){return l}});var i=e(52322),a=(e(2784),e(45103)),r=e(31619),o=e(13813),c=e(23104),l=function(t){var n=t.className,e=t.title,l=e.id,u=e.titleText,s=e.titleTypeId,d=e.image,f=d.url,g=d.height,m=d.width,p=t.onClick,v=t.refPrefix,h=t.refSuffix,x="/title/".concat(l,"/?ref_=").concat(v,"tt_i").concat(h),T=(0,o.y)(),_=T.pageType,R=T.subPageType,b=(0,r.N)({id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},{titleName:u});return(0,i.jsxs)(a.PosterCard.Poster,{href:x,ariaLabel:b,onClick:p,className:n,children:[(0,i.jsx)(c.Z,{titleId:l,watchlistMetricsContext:{pageType:_,subPageType:R,refTag:"".concat(v,"wl_rbn").concat(h)},onPoster:!0,className:"poster-card-watchlist-ribbon"},l),(0,i.jsx)(a.Poster.Image,{imageModel:f&&g&&m?{url:f,maxHeight:g,maxWidth:m,caption:u}:void 0,imageType:s,className:"poster-card-image",dynamicAspectRatio:!1})]})}},58267:function(t,n,e){e.d(n,{f:function(){return s}});var i=e(92228),a=e(52322),r=(e(2784),e(19596)),o=e(45103),c=e(75467),l=e(31619);function u(){var t=(0,i.Z)(["\n    max-height: 30px;\n    max-width: 30px;\n    vertical-align: middle;\n"]);return u=function(){return t},t}var s=function(t){var n=t.titleId,e=t.watchlistMetricsContext,i=(0,l.N)({id:"common_buttons_watchlist",defaultMessage:"Watchlist"});return(0,a.jsx)(c.WatchlistConsumer,{id:n,metricsContext:e,render:function(t){var n=t.inWatchlist,e=t.isLoading,r=t.onClick,c=(0,a.jsx)(o.SecondaryButton,{onClick:r,preIcon:n?"done":"add",width:"full-width",children:i});return e&&(c=(0,a.jsx)(o.SecondaryButton,{onClick:r,width:"full-width",children:(0,a.jsx)(d,{"data-testid":"watchlist-button-loader",type:"circle"})})),c}})},d=(0,r.default)(o.Loader).withConfig({componentId:"sc-981e94be-0"})(u());n.Z=s},23104:function(t,n,e){var i=e(70865),a=e(96670),r=e(52322),o=(e(2784),e(45103)),c=e(75467);n.Z=function(t){var n=t.titleId,e=t.watchlistMetricsContext,l=t.onPoster,u=t.onImage,s=void 0===u||u,d=t.size,f=t.className;return(0,r.jsx)(c.WatchlistConsumer,{id:n,metricsContext:e,render:function(t){return l?(0,r.jsx)(o.Poster.WatchlistRibbon,(0,a.Z)((0,i.Z)({},t),{className:f,size:d})):(0,r.jsx)(o.WatchlistRibbon,(0,a.Z)((0,i.Z)({},t),{className:f,onImage:s,size:d}))}})}},61436:function(t,n,e){e.d(n,{P:function(){return r}});var i=e(73857),a={default:{maximumFractionDigits:1,minimumFractionDigits:1},imdb:{maximumFractionDigits:1,minimumFractionDigits:1},user:{maximumFractionDigits:0,minimumFractionDigits:0}},r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",e=arguments.length>2?arguments[2]:void 0,r=(0,i.Z)();if(!t)return"";if(10===t)return"10";var o="user"===n?Math.trunc(t):Number(t.toFixed(1)),c=null!==e&&void 0!==e?e:a[n];return r.formatNumber(o,c)}},97026:function(t,n,e){var i;function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.DEFAULT;if(t<=0)return n===i.HOURS_MINUTES_EXPLICIT?"0min":n===i.HOURS_MINUTES_EXPLICIT_SHORT?"0m":n===i.ISO_8601?"PT0S":"0:00";var e=Math.floor(t/3600),a=Math.floor(t%3600/60),o=Math.floor(t%60);if(n===i.HOURS_MINUTES_EXPLICIT||n===i.HOURS_MINUTES_EXPLICIT_SHORT)return t<60&&t>0&&(a=1),e>0&&a<=0?"".concat(e,"h"):"".concat(e>0?e+"h "+a:a).concat(n===i.HOURS_MINUTES_EXPLICIT_SHORT?"m":"min");if(n===i.ISO_8601){var c=e?"".concat(e,"H"):"",l=a?"".concat(a,"M"):"",u=o?"".concat(o,"S"):"";return"PT".concat(c).concat(l).concat(u)}return"".concat(e>0?e+":"+r(a):a,":").concat(r(o))}function r(t){return t<=0||!Number.isInteger(t)?"00":t>9?"".concat(t):"0"+"".concat(t)}e.d(n,{A:function(){return i},L:function(){return a}}),function(t){t.DEFAULT="default",t.HOURS_MINUTES_EXPLICIT="hours_minutes_explicit",t.HOURS_MINUTES_EXPLICIT_SHORT="hours_minutes_explicit_short",t.ISO_8601="iso_8601"}(i||(i={}))},35635:function(t,n,e){function i(t,n){if(t){var e=null===t||void 0===t?void 0:t.year,i=(null===t||void 0===t?void 0:t.endYear)||void 0,a=n&&!i,r="";return e&&i?r=e===i?e.toString():"".concat(e,"\u2013").concat(i):e&&a?r="".concat(e,"\u2013 "):e&&(r="".concat(e)),r}}e.d(n,{y:function(){return i}})},92281:function(t,n,e){e.d(n,{vY:function(){return v}});var i=e(98788),a=e(66383),r=e(92228),o=e(45680),c=e(30382),l=e.n(c),u=e(95460),s=e(25140),d=e(48543);function f(){var t=(0,r.Z)(["\n    mutation UpdateTitleRating($rating: Int!, $titleId: ID!) {\n        rateTitle(input: { rating: $rating, titleId: $titleId }) {\n            rating {\n                value\n            }\n        }\n    }\n"]);return f=function(){return t},t}function g(){var t=(0,r.Z)(["\n    mutation DeleteTitleRating($titleId: ID!) {\n        deleteTitleRating(input: { titleId: $titleId }) {\n            date\n        }\n    }\n"]);return g=function(){return t},t}var m=l()(f()),p=l()(g()),v=function(t){var n=(0,a.Z)((0,d.Z)(m),2),e=(n[0],n[1]),r=(0,a.Z)((0,d.Z)(p),2),c=(r[0],r[1]),l=(0,s.B)().context,f={type:l.pageType,subType:l.subPageType,id:t.titleId},g=function(n){(0,u.K8)(t.refTag,f,n,u.qB.ACTION_ONLY)},v=function(){var t=(0,i.Z)((function(t,n){var e;return(0,o.__generator)(this,(function(i){return e="".concat("tmp-rating-add","-").concat(n,"-").concat(t),g(e),[2]}))}));return function(n,e){return t.apply(this,arguments)}}();return{updateTitleRating:function(t,n){var i="".concat("rating-add","-").concat(n,"-").concat(t);return g(i),e({rating:t,titleId:n})},deleteTitleRating:function(t){var n="".concat("rating-del","-").concat(t);return g(n),c({titleId:t})},tempRateUpdateLogRef:v}}},91793:function(t,n,e){e.d(n,{S:function(){return o}});var i=e(92228),a=e(19596);function r(){var t=(0,i.Z)(["\n    @supports (-webkit-line-clamp: ",") {\n        display: -webkit-box;\n        -webkit-line-clamp: ",";\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n    }\n"]);return r=function(){return t},t}var o=function(t){return(0,a.css)(r(),t,t)}}}]);